<link rel="stylesheet" type="text/css" href="~/Content/Profile.css" />
@{
    ViewBag.Title = "Profil-Sida";
}
@model IEnumerable<WinFastLoseFaster.Models.Game>
@using WinFastLoseFaster.Models;


<div class="modal fade" tabindex="-1" role="dialog" id="ChangeProfilePictureModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Modal title</h4>
            </div>
            <form action="ChangeProfilePicture" method="post">
                <div class="modal-body">
                    <input type="text" name="newProfilePicture" placeholder="Profile Picture url" id="changeProfilePicture" />

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-primary">Save changes</button>
					
    <div class="headStats">
        <h2>W/L Ratio</h2>
        @if (ViewBag.WLR > 1)
        {
            <h3 style="color: green">@ViewBag.WLR</h3>
        }
        else if (ViewBag.WLR == 1)
        {
            <h3 style="color: white">@ViewBag.WLR</h3>
        }   
        else
        {
            <h3 style="color: red"> @ViewBag.WLR</h3>
        }      
    </div>

                </div>
            </form>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
    @*<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" data-whatever="@mdo">Open modal for @mdo</button>*@

    <div id="profilHeader">
        <img src="@ViewBag.Picture" data-toggle="modal" data-target="#ChangeProfilePictureModal" />



        <div id="username">
            <h2>@ViewBag.Username</h2>
        </div>

        <div class="headStats">
            <h2>W/L Ratio</h2>
            @if (ViewBag.WLR > 1)
            {
                <h3 style="color: green">@ViewBag.WLR</h3>
            }
            else if (ViewBag.WLR == 0)
            {
                <h3 style="color: white">@ViewBag.WLR</h3>
            }
            else
            {
                <h3 style="color: red"> @ViewBag.WLR</h3>
            }
        </div>

        <div id="WL" class="headStats">
            <h2>Win/Loss</h2>
            <h3>
                <span style="color: green">@ViewBag.Wins</span>
                <span style="color: white">/</span>
                <span style="color: red">@ViewBag.Loss</span>
            </h3>
        </div>

        <div class="headStats">
            @if (ViewBag.Profit > 0)
            {
                <h2>Profit</h2>
                <h3><span style="color: green">@ViewBag.Profit</span></h3>
            }
            else if (ViewBag.Profit < 0)
            {
                <h2>Profit</h2>
                <h3><span style="color: red">@ViewBag.Profit</span></h3>
            }
            else
            {
                <h2>Profit</h2>
                <h3 style="color: white">@ViewBag.Profit</h3>
            }
        </div>
        <div class="headStats">
            <h2>Credits</h2>
            <h3 style="color: white">@ViewBag.Credits</h3>
        </div>
    </div>

    <div class="Flikar">
        <div id="matcherFlik">
            <h3>Matches</h3>
        </div>
        <div id="statsFlik">
            <h3>Stats</h3>
        </div>
    </div>
    <div id="statsTitlar">
        <h4>Status</h4>
        <h4>Wager</h4>
        <h4>Winner</h4>
        <h4>Credits-won</h4>
        <h4>Loser</h4>
        <h4>Date</h4>
        <h4>Time</h4>
        <h4>Game type</h4>
    </div>
    <div id="matches">
        <div>
            @foreach (Game game in ViewBag.myGames)
            {
                <div class="game">
                    @if (game.GameActive == true)
                {
                        <h4 style="color: white;">Active</h4>
                    }
                    else
                    {
                        foreach (Winner winner in game.Winners)
                        {
                            if (winner.WinningUser == ViewBag.currentUser)
                            {
                                <h4 style="color:green;">Won</h4>
                            }
                            else
                            {
                                <h4 style="color:red;">Lost</h4>
                            }
                        }
                    }
                    <h4>@game.Userbets.FirstOrDefault().Wager</h4>

                    @if (game.GameActive == true)
					{
                        <h4>Pending</h4>
                        <h4>Pending</h4>
                        <h4>Pending</h4>
                    }

                    @*<p>@game.Userbets.IndexOf(Bet { User = ViewBag.currentUser })</p>*@

                    @foreach (Winner winner in game.Winners)
					{
                        <h4>@winner.WinningUser.Username</h4>
                        <h4>@(winner.TotalAmount - game.Userbets.FirstOrDefault().Wager)</h4>

                        foreach (var player in game.users)
                        {
                            if (player != winner.WinningUser)
                            {
                                <h4>@player.Username</h4>
                            }
                        }
                    }

                }    
                @if (game.Timestamp.Date == DateTime.Today)
                {
                    <h4>Today</h4>
                    <h4>@game.Timestamp.ToShortTimeString()</h4>
                }
                else
                {
                    <h4>@game.Timestamp.ToShortDateString()</h4>
                    <h4>@game.Timestamp.ToShortTimeString()</h4>
                }

                
                <h4>@game.Gametype</h4>
            </div>
        }
    </div>   
</div>

<div id="stats">
    <h4>@ViewBag.Bets</h4>
    <h4>@ViewBag.Deposit</h4>
    <h4>@ViewBag.Withdrawal</h4>
    <h4>@ViewBag.MatchesPlayed</h4>
    <h4>@ViewBag.Loss</h4>
</div>
>>>>>>> c1562057bbd274eb2b16b93f29be2c3a126d0697

    <script src="~/Scripts/statsFlikar.js"></script>
